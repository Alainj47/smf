define(["jquery","core/templates","core/config","core/ajax"],function(n,o,e,c){return{init:function(){c.call([{methodname:"local_smf_events",args:{}}])[0].done(function(e){e!=[]&&o.render("local_smf/course_iframe",e).then(function(e,t){o.prependNodeContents("#user-notifications",e,t),n(".chat_smf").click(function(){c.call([{methodname:"local_smf_load_chats",args:{}}])[0].done(function(n){}).fail(function(n){})})}).fail(function(n){})}).fail(function(n){console.log("errr"),console.error(n)})}}});