define(["jquery","core/templates","core/config","core/ajax"],function(n,o,e,c){return{init:function(e){c.call([{methodname:"local_smf_events",args:{courseid:e}}])[0].done(function(i){i!=[]&&o.render("local_smf/course_iframe",i).then(function(i,t){o.prependNodeContents("#user-notifications",i,t),n(".chat_smf").click(function(){c.call([{methodname:"local_smf_load_chats",args:{courseid:e}}])[0].done(function(n){}).fail(function(n){})})}).fail(function(n){})}).fail(function(n){console.log("errr"),console.error(n)})}}});